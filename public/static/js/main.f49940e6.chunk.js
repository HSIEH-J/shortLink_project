(this.webpackJsonpmyfirstreactapp=this.webpackJsonpmyfirstreactapp||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){"use strict";n.r(t);var r=n(3),s=n.n(r),a=n(13),i=n.n(a),c=(n(25),n(4)),o=n(5),u=n(2),l=n(8),h=n(7),d=(n(26),n(1)),p=n.n(d),f=n(6),m=n(9),j=n.n(m),b=n(10),O=n.n(b),g=O()(j.a),v=new(function(){function e(){Object(c.a)(this,e),this.API_HOST="http://localhost:3000"}return Object(o.a)(e,[{key:"generateShortUrl",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/link"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/signup"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please check email format or try another email..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showRedirectTimes",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/times"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(f.a)(p.a.mark((function e(t){var n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/login"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please check email format or try another password..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,n;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/logout"),{headers:new Headers({"Content-Type":"application/json"}),method:"GET"});case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),w=(n(33),n(0)),x=O()(j.a),y=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).register=r.register.bind(Object(u.a)(r)),r.logIn=r.logIn.bind(Object(u.a)(r)),r.logOut=r.logOut.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"register",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fire({title:"Register",html:'<input id="swal-input1" class="swal2-input" placeholder="Email"><input id="swal-input2" class="swal2-input" placeholder="Password">',focusConfirm:!1,preConfirm:function(){return{email:document.getElementById("swal-input1").value,password:document.getElementById("swal-input2").value}}});case 2:t=e.sent,n=t.value,r={email:n.email,password:n.password},this.props.onRegister(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(f.a)(p.a.mark((function e(){var t,n,r;return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fire({title:"Log In",html:'<input id="swal-input1" class="swal2-input" placeholder="Email"><input id="swal-input2" class="swal2-input" placeholder="Password">',focusConfirm:!1,preConfirm:function(){return{email:document.getElementById("swal-input1").value,password:document.getElementById("swal-input2").value}}});case 2:t=e.sent,n=t.value,r={email:n.email,password:n.password},this.props.onLogIn(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(f.a)(p.a.mark((function e(){return p.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onLogOut();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.props.authentication?Object(w.jsx)("div",{className:"Authentication",children:Object(w.jsx)("button",{className:"AuthButton",onClick:this.logOut,children:"Log Out"})}):Object(w.jsxs)("div",{className:"Authentication",children:[Object(w.jsx)("button",{className:"AuthButton",onClick:this.register,children:"Register"}),Object(w.jsx)("button",{className:"AuthButton",onClick:this.logIn,children:"Log In"})]})}}]),n}(s.a.Component),k=(n(35),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={term:""},r.handleTermChange=r.handleTermChange.bind(Object(u.a)(r)),r.generateShortUrl=r.generateShortUrl.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"generateShortUrl",value:function(){var e={url:this.state.term};this.props.onGenerate(e)}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"GenerateBar",children:[Object(w.jsx)("input",{placeholder:"http://",onChange:this.handleTermChange}),Object(w.jsx)("button",{className:"GenerateButton",onClick:this.generateShortUrl,children:"Generate"})]})}}]),n}(s.a.Component)),T=(n(36),n.p+"static/media/witness.44441fa5.png"),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).showRedirectTimes=r.showRedirectTimes.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"showRedirectTimes",value:function(e){console.log(e.target.id);var t=e.target.id;this.props.onRedirectTimes(t),e.target.innerHTML=this.props.showTimesResult}},{key:"render",value:function(){var e=this;return Object(w.jsx)("div",{children:this.props.resultsList.map((function(t){return Object(w.jsxs)("tr",{className:"GenerateResults",children:[Object(w.jsx)("td",{className:"Item",children:"checkbox"}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url})}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.shortLink,target:"_blank",rel:"noreferrer",children:t.shortLink})}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("img",{src:T,className:"EyeImg",onClick:e.showRedirectTimes,id:t.id})})]},t.id)}))})}}]),n}(s.a.Component),I=O()(j.a),R=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={generateResult:"",resultsList:[],isAuthentication:!1,isShowRedirectTimes:!1,redirectTimes:""},r.generate=r.generate.bind(Object(u.a)(r)),r.register=r.register.bind(Object(u.a)(r)),r.logIn=r.logIn.bind(Object(u.a)(r)),r.logOut=r.logOut.bind(Object(u.a)(r)),r.showRedirectTimes=r.showRedirectTimes.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"generate",value:function(e){var t=this;v.generateShortUrl(e).then((function(e){var n=t.state.resultsList;n.push(e),t.setState({resultsList:n}),t.setState({generateResult:e})}))}},{key:"register",value:function(e){var t=this;v.register(e).then((function(e){console.log(e),t.setState({isAuthentication:!0}),I.fire("Sign Up Successfully!")}))}},{key:"logIn",value:function(e){var t=this;v.login(e).then((function(e){console.log(e),t.setState({isAuthentication:!0}),I.fire("Log In Successfully!")}))}},{key:"logOut",value:function(){var e=this;v.logOut().then((function(t){console.log(t),e.setState({isAuthentication:!1}),I.fire("Log Out Successfully!")}))}},{key:"showRedirectTimes",value:function(e){var t=this;v.showRedirectTimes(e).then((function(e){console.log(e),t.setState({isShowRedirectTime:!0}),t.setState({redirectTimes:e.times})}))}},{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Short Links"}),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(y,{onRegister:this.register,onLogIn:this.logIn,onLogOut:this.logOut,authentication:this.state.isAuthentication}),Object(w.jsx)(k,{onGenerate:this.generate}),Object(w.jsx)("div",{className:"Content-List",children:Object(w.jsxs)("table",{className:"Bar",children:[Object(w.jsxs)("tr",{className:"BarTitle",children:[Object(w.jsx)("th",{className:"Item",children:"Manipulate"}),Object(w.jsx)("th",{className:"Item",children:"URL"}),Object(w.jsx)("th",{className:"Item",children:"Short Link"}),Object(w.jsx)("th",{className:"Item",children:"times"})]}),Object(w.jsx)(S,{generateResult:this.state.generateResult,resultsList:this.state.resultsList,onRedirectTimes:this.showRedirectTimes,showTimesResult:this.state.redirectTimes})]})})]})]})}}]),n}(s.a.Component);i.a.render(Object(w.jsx)(R,{}),document.getElementById("root"))}},[[37,1,2]]]);
//# sourceMappingURL=main.f49940e6.chunk.js.map