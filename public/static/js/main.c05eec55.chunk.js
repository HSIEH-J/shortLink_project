(this.webpackJsonpmyfirstreactapp=this.webpackJsonpmyfirstreactapp||[]).push([[0],{25:function(e,t,n){},26:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},36:function(e,t,n){},37:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var r=n(3),s=n.n(r),a=n(13),i=n.n(a),c=(n(25),n(4)),o=n(5),u=n(1),l=n(7),h=n(6),d=(n(26),n(2)),m=n.n(d),p=n(8),j=n(9),f=n.n(j),b=n(10),O=n.n(b),g=O()(f.a),v=new(function(){function e(){Object(c.a)(this,e),this.API_HOST="http://localhost:3000"}return Object(o.a)(e,[{key:"generateShortUrl",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/link"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/signup"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please check email format or try another email..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"showRedirectTimes",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/times"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"login",value:function(){var e=Object(p.a)(m.a.mark((function e(t){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/login"),{body:JSON.stringify(t),headers:new Headers({"Content-Type":"application/json"}),method:"POST"});case 2:if(200===(n=e.sent).status){e.next=5;break}throw new Error(g.fire("Please check email format or try another password..."));case 5:return e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(this.API_HOST,"/logout"),{headers:new Headers({"Content-Type":"application/json"}),method:"GET"});case 2:if(200===(t=e.sent).status){e.next=5;break}throw new Error(g.fire("Please try again..."));case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}()),w=(n(33),n(0)),x=O()(f.a),k=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).register=r.register.bind(Object(u.a)(r)),r.logIn=r.logIn.bind(Object(u.a)(r)),r.logOut=r.logOut.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"register",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fire({title:"Register",html:'<input id="swal-input1" class="swal2-input" placeholder="Email"><input id="swal-input2" class="swal2-input" placeholder="Password">',focusConfirm:!1,preConfirm:function(){return{email:document.getElementById("swal-input1").value,password:document.getElementById("swal-input2").value}}});case 2:t=e.sent,n=t.value,r={email:n.email,password:n.password},this.props.onRegister(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logIn",value:function(){var e=Object(p.a)(m.a.mark((function e(){var t,n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x.fire({title:"Log In",html:'<input id="swal-input1" class="swal2-input" placeholder="Email"><input id="swal-input2" class="swal2-input" placeholder="Password">',focusConfirm:!1,preConfirm:function(){return{email:document.getElementById("swal-input1").value,password:document.getElementById("swal-input2").value}}});case 2:t=e.sent,n=t.value,r={email:n.email,password:n.password},this.props.onLogIn(r);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"logOut",value:function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.props.onLogOut();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return!0===this.props.authentication?Object(w.jsx)("div",{className:"Authentication",children:Object(w.jsx)("button",{className:"AuthButton",onClick:this.logOut,children:"Log Out"})}):Object(w.jsxs)("div",{className:"Authentication",children:[Object(w.jsx)("button",{className:"AuthButton",onClick:this.register,children:"Register"}),Object(w.jsx)("button",{className:"AuthButton",onClick:this.logIn,children:"Log In"})]})}}]),n}(s.a.Component),y=(n(35),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={term:""},r.handleTermChange=r.handleTermChange.bind(Object(u.a)(r)),r.generateShortUrl=r.generateShortUrl.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"handleTermChange",value:function(e){this.setState({term:e.target.value})}},{key:"generateShortUrl",value:function(){var e={url:this.state.term};this.props.onGenerate(e)}},{key:"render",value:function(){return Object(w.jsxs)("div",{className:"GenerateBar",children:[Object(w.jsx)("input",{placeholder:"http://",onChange:this.handleTermChange}),Object(w.jsx)("button",{className:"GenerateButton",onClick:this.generateShortUrl,children:"Generate"})]})}}]),n}(s.a.Component)),T=(n(36),function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).showRedirectTimes=r.showRedirectTimes.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"showRedirectTimes",value:function(e){console.log(e.target.id);var t={data:[{id:e.target.id}]};this.props.onRedirectTimes(t)}},{key:"render",value:function(){var e=this,t=[];for(var n in this.props.resultsList)t.push(this.props.resultsList[n]);return Object(w.jsx)("div",{children:t.map((function(t){return"img"===t.status?Object(w.jsxs)("tr",{className:"GenerateResults",children:[Object(w.jsx)("td",{className:"Item",children:"checkbox"}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url})}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.shortLink,target:"_blank",rel:"noreferrer",children:t.shortLink})}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("img",{src:t.render,className:"EyeImg",onClick:e.showRedirectTimes,id:t.id})})]},t.id):Object(w.jsxs)("tr",{className:"GenerateResults",children:[Object(w.jsx)("td",{className:"Item",children:"checkbox"}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.url,target:"_blank",rel:"noreferrer",children:t.url})}),Object(w.jsx)("td",{className:"Item",children:Object(w.jsx)("a",{href:t.shortLink,target:"_blank",rel:"noreferrer",children:t.shortLink})}),Object(w.jsx)("td",{className:"Item",children:t.render.toString()})]},t.id)}))})}}]),n}(s.a.Component)),I=(n(37),n.p+"static/media/refresh.af4193e0.png"),S=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).updateRedirectTimes=r.updateRedirectTimes.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"updateRedirectTimes",value:function(){this.props.onUpdate()}},{key:"render",value:function(){return!1===this.props.showRedirectTimes?Object(w.jsxs)("tr",{className:"BarTitle",children:[Object(w.jsx)("th",{className:"Item",children:"Manipulate"}),Object(w.jsx)("th",{className:"Item",children:"URL"}),Object(w.jsx)("th",{className:"Item",children:"Short Link"}),Object(w.jsx)("th",{className:"Item",children:"times"})]}):Object(w.jsxs)("tr",{className:"BarTitle",children:[Object(w.jsx)("th",{className:"Item",children:"Manipulate"}),Object(w.jsx)("th",{className:"Item",children:"URL"}),Object(w.jsx)("th",{className:"Item",children:"Short Link"}),Object(w.jsxs)("th",{className:"Item",children:["times",Object(w.jsx)("img",{src:I,className:"RefreshImg",onClick:this.updateRedirectTimes})]})]})}}]),n}(s.a.Component),R=O()(f.a),N=function(e){Object(l.a)(n,e);var t=Object(h.a)(n);function n(e){var r;return Object(c.a)(this,n),(r=t.call(this,e)).state={generateResult:"",resultsList:{},isAuthentication:!1,isShowRedirectTimes:!1,showTimesUrl:[]},r.generate=r.generate.bind(Object(u.a)(r)),r.register=r.register.bind(Object(u.a)(r)),r.logIn=r.logIn.bind(Object(u.a)(r)),r.logOut=r.logOut.bind(Object(u.a)(r)),r.showRedirectTimes=r.showRedirectTimes.bind(Object(u.a)(r)),r.updateRedirectTimes=r.updateRedirectTimes.bind(Object(u.a)(r)),r}return Object(o.a)(n,[{key:"generate",value:function(e){var t=this;v.generateShortUrl(e).then((function(e){var n=t.state.resultsList;n[e.id]=e,t.setState({resultsList:n}),t.setState({generateResult:e})}))}},{key:"register",value:function(e){var t=this;v.register(e).then((function(e){console.log(e),t.setState({isAuthentication:!0}),R.fire("Sign Up Successfully!")}))}},{key:"logIn",value:function(e){var t=this;v.login(e).then((function(e){console.log(e),t.setState({isAuthentication:!0}),R.fire("Log In Successfully!")}))}},{key:"logOut",value:function(){var e=this;v.logOut().then((function(t){console.log(t),e.setState({isAuthentication:!1}),R.fire("Log Out Successfully!")}))}},{key:"showRedirectTimes",value:function(e){var t=this;console.log(this.state.resultsList),v.showRedirectTimes(e).then((function(n){t.setState({isShowRedirectTimes:!0});var r=t.state.resultsList;r[e.data[0].id].status="times",r[e.data[0].id].render=n.data[0].times,t.setState({resultsList:r});var s=t.state.showTimesUrl;s.push({id:e.data[0].id}),t.setState({showTimesUrl:s}),console.log(s)}))}},{key:"updateRedirectTimes",value:function(){var e=this;console.log(this.state.showTimesUrl);var t={data:this.state.showTimesUrl};v.showRedirectTimes(t).then((function(t){var n=e.state.resultsList;t.data.forEach((function(e){n[e.id].render=e.times})),e.setState({resultsList:n})}))}},{key:"render",value:function(){return Object(w.jsxs)("div",{children:[Object(w.jsx)("h1",{children:"Short Links"}),Object(w.jsxs)("div",{className:"App",children:[Object(w.jsx)(k,{onRegister:this.register,onLogIn:this.logIn,onLogOut:this.logOut,authentication:this.state.isAuthentication}),Object(w.jsx)(y,{onGenerate:this.generate}),Object(w.jsx)("div",{className:"Content-List",children:Object(w.jsxs)("table",{className:"Bar",children:[Object(w.jsx)(S,{showRedirectTimes:this.state.isShowRedirectTimes,onUpdate:this.updateRedirectTimes}),Object(w.jsx)(T,{generateResult:this.state.generateResult,resultsList:this.state.resultsList,onRedirectTimes:this.showRedirectTimes})]})})]})]})}}]),n}(s.a.Component);i.a.render(Object(w.jsx)(N,{}),document.getElementById("root"))}},[[38,1,2]]]);
//# sourceMappingURL=main.c05eec55.chunk.js.map